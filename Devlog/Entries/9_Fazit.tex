\section{Fazit}

Das war mein Blog über den CoinFinder! Ich hoffe, dass ich dir einen guten Einblick in die Möglichkeiten von OpenCV.js geben konnte und dass du jetzt ein besseres Verständnis dafür hast, wie Bildverarbeitungsalgorithmen im Browser implementiert werden können. In diesem Abschnitt werde ich noch einmal kurz zusammenfassen, was für mich die größten Probleme und Herausforderungen bei der Implementierung waren und einen Ausblick darauf geben, wie das Projekt in Zukunft weiterentwickelt werden könnte. Vielen Dank schonmal fürs Lesen!

\subsection{Die größten Probleme}
Es hat sich gezeigt, dass mit openCV sehr anspruchsvolle Probleme in der Bildverarbeitung gelöst werden können. Je nach Umfang und Komplexität des Problems kann die Implementierung jedoch sehr aufwendig sein. Die größten Probleme, die ich während der Implementierung hatte, waren die folgenden:

\begin{itemize}
    \item \textbf{Dokumentation} - Speziell für OpenCV.js ist die Dokumentation sehr spärlich. Die offizielle Dokumentation ist nur für C++ verfügbar und die JavaScript-Tutorials sind oft nicht ausreichend. Zudem erschwert die Emscripten-Übersetzung den Einstieg, da in der IDE keine Autovervollständigung für die OpenCV-Funktionen verfügbar ist. Es gibt keine leichte Möglichkeit, alle Funktionen und Parameter in Erfahrung zu bringen, was die Implementierung erschwert.
    \item \textbf{Umgebungsbedingungen} - Viele Methoden der Bilderkennung haben sich als sehr empfindlich gegenüber den Umgebungsbedingungen herausgestellt. So haben beispielsweise die Lichtverhältnisse und die Kameraqualität einen großen Einfluss auf die Ergebnisse. Vor allem das Licht stellt ein nur schwer zu lösendes Problem dar, welches nur schwer "genormt" werden kann. 
    \item \textbf{Parameter} - Die Parameter der OpenCV-Funktionen sind oft sehr spezifisch und müssen genau auf den Anwendungsfall abgestimmt werden. So kann es sein, dass eine Funktion bei falscher Einstellung gar nicht oder nur sehr schlechte Ergebnisse liefert. Das Finden der richtigen Parameter hat sich als sehr zeitaufwendig herausgestellt.
\end{itemize}

Ganz konkret war beispielsweise die Kantenerkennung sehr anfällig gegenüber äußeren Verhältnissen. So musste ich für die Kantenerkennung nicht einmal, sondern gleich zweimal korrekte Parameter ermitteln, da die Vorlagenbilder für die Kantenerkennung bei unterschiedlichen Lichtverhältnissen und Auflösungen aufgenommen wurden. Die Bilder, welcher live aus der Kamera kommen, haben eine deutlich schlechtere Qualität und Auflösung, wodurch die Parameter nicht mehr passten.

Trotz der Slider, die ich genau für diesen Fall eingebaut habe, war es leider sehr zeitaufwendig alles aufeinander abzustimmen. Da der CoinFinder wie eine "Pipeline" funktioniert, beeinflusst ein ungenaues Zwischenergebnis auch die Ergebnisse der folgenden Schritte. So kann es sein, dass ein ungenau erkannter Kreis oder ein ungünstig erstelltes Kantenbild auch die Ergebnisse des Template-Matchings beeinflusst. 

\subsection{Ausblick}
Ich hoffe mit diesem Blog einen Einblick in die Möglichkeiten von OpenCV.js gegeben zu haben. Die Implementierung von Bildverarbeitungsalgorithmen im Browser ist eine spannende Entwicklung, die in Zukunft sicherlich noch an Bedeutung gewinnen wird. Selbst wenn die letztendlichen Ergebnisse des CoinFinders nicht perfekt sind, so zeigt das Projekt doch sehr gut, für welche verschiedene Anwendungsfälle OpenCV.js genutzt werden kann.

Man darf nicht vergessen, dass die Kreiserkennung und das Template-Matching, wie ich es in diesem Blog implementiert habe, nur ein kleiner Teil der Möglichkeiten von OpenCV sind. OpenCV bietet eine Vielzahl von weiteren Funktionen, die womöglich auch für das Problem des CoinFinders verwendet werden könnten. So gibt es in OpenCV weitere Möglichkeiten der Objekterkennung, welche mithilfe von Deep Neural Networks (DNN) realisiert werden. Diese sind natürlich deutlich komplizierter und aufwendiger zu implementieren als die Methoden die ich in diesem Blog vorgestellt habe, sie könnten jedoch auch deutlich bessere Ergebnisse liefern. Dies wäre eine spannende Weiterentwicklung des Projekts, welche jedoch den Scope dieses Blogs übersteigen würde. Aber vielleicht ist das ja ein Thema für einen weiteren Blog?

Lasst mich gerne wissen, was ihr von dem Blog haltet und ob ihr euch eine Fortsetzung wünscht. Ich freue mich über Feedback und Anregungen!